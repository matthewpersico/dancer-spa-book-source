# Exercise: Counters

There are several exercises creating a counter. In each exercase we create a web application that returns the number of times the page was loaded.

In the first version the counter is global. Regardless who access the pages there is a single counter that starts from 1 every time we restart the web application. Try to access the page from different browsers and using `curl`.

Solution:

![](code/count_till_restart.psgi)

In the second version make the counter persistent between application restarts. Still we only have a single global counter.

![](code/count_persistent.psgi)

In the second version make sure each user (each browser) has a separate counter.

![](code/count_session_till_restart.psgi)


Using `curl` with cookies:

```
$ curl http://localhost:5000 --cookie-jar cookies
```

```
$  cat cookies
# Netscape HTTP Cookie File
# https://curl.haxx.se/docs/http-cookies.html
# This file was generated by libcurl! Edit at your own risk.

#HttpOnly_localhost	FALSE	/	FALSE	0	dancer.session	W0eoNwAA4sVSfc23snbtPX1dNjkfLTEI
```

```
$ curl http://localhost:5000 --cookie "dancer.session=W0eoNwAA4sVSfc23snbtPX1dNjkfLTEI"
```

4th Persisten sessions

![](code/count_session_persistent.psgi)


